/* wb.drilldownmenu.js - Copyright 2020, WYSIWYG Web Builder - http://www.wysiwygwebbuilder.com */
(function(b,d,f){b.DrilldownMenu=function(c,a){this.$el=b(a);this._init(c)};b.DrilldownMenu.defaults={backText:"back"};b.DrilldownMenu.prototype={_init:function(c){this.options=b.extend(!0,{},b.DrilldownMenu.defaults,c);this._config();this._initEvents()},_config:function(){this.$menu=this.$el.children("ul.drilldown-menu");this.$menuitems=this.$menu.find("li:not(.drilldown-back)");this.$el.find("ul.drilldown-submenu").prepend('<li class="drilldown-back"><a href="#">'+this.options.backText+"</a></li>");
this.$back=this.$menu.find("li.drilldown-back")},_initEvents:function(){var c=this;this.$menuitems.on("click.drilldownmenu",function(a){a.stopPropagation();a=b(this);if(0<a.children("ul.drilldown-submenu").length)return c.$menu.addClass("drilldown-subview"),a.addClass("drilldown-subviewopen").parents(".drilldown-subviewopen:first").removeClass("drilldown-subviewopen").addClass("drilldown-subview"),!1});this.$back.on("click.drilldownmenu",function(a){a=b(this);a.parents("ul.drilldown-submenu:first").parent().removeClass("drilldown-subviewopen");
a=a.parents(".drilldown-subview:first");a.is("li")&&a.addClass("drilldown-subviewopen");a.removeClass("drilldown-subview");return!1})},_resetMenu:function(){this.$menu.removeClass("drilldown-subview");this.$menuitems.removeClass("drilldown-subview drilldown-subviewopen")}};b.fn.drilldownmenu=function(c){if("string"===typeof c){var a=Array.prototype.slice.call(arguments,1);this.each(function(){var e=b.data(this,"drilldownmenu");e?b.isFunction(e[c])&&"_"!==c.charAt(0)?e[c].apply(e,a):d.console&&d.console.error("no such method '"+
c+"' for drilldownmenu instance"):d.console&&d.console.error("cannot call methods on drilldownmenu prior to initialization; attempted to call method '"+c+"'")})}else this.each(function(){var a=b.data(this,"drilldownmenu");a?a._init():b.data(this,"drilldownmenu",new b.DrilldownMenu(c,this))});return this}})(jQuery,window);