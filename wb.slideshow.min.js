/* jQuery Slideshow Plugin for WYSIWYG Web Builder 16 - Copyright Pablo Software solutions 2020 - http://www.wysiwygwebbuilder.com */
(function(a){a.fn.slideshow=function(c){return this.each(function(){a.slideshow(this,c)})};a.slideshow=function(c,b){var d={effect:"none",effectlength:2E3,easing:"linear",fullscreen:0,direction:"",count:8,interval:2E3,type:"sequence",pagination:!0,pagination_img_default:"",pagination_img_active:"",param:null,maxItems:10,maxWidth:800,current:1,last:0,captionShow:{},captionHide:{},instagramId:"",instagramToken:""};if(b&&"string"==typeof b)if("nextimage"==b)a.slideshow.killTimer(c),a.slideshow.nextimage(c);
else if("previmage"==b)a.slideshow.killTimer(c),a.slideshow.previmage(c);else if(-1!=b.indexOf("goto"))d=b.slice(5),a.slideshow.gotoImage(c,d);else if("stop"==b){a.slideshow.killTimer(c);var e=a(c).data("state");e.interval=0}else"start"==b&&(a.slideshow.killTimer(c),e=a(c).data("state"),0==e.interval&&(e.interval=4E3),e.current==e.last&&a.slideshow.next(e),a.slideshow.imagetransition(c));else if(b&&(e=a.extend(d,b)),""!=e.instagramId){var g="UL"==c.tagName,f="";""==e.instagramToken?a.get("https://www.instagram.com/"+
e.instagramId,function(b){b=b.split("window._sharedData = ")[1].split("\x3c/script>")[0];b=JSON.parse(b.substr(0,b.length-1));b=b.entry_data.ProfilePage;b=b[0].graphql.user;b=b.edge_owner_to_timeline_media.edges;for(var d=b.length>e.maxItems?e.maxItems:b.length,h,k=0;k<d;k++)"GraphImage"==b[k].node.__typename&&("undefined"!==typeof b[k].node.edge_media_to_caption.edges[0]?h=b[k].node.edge_media_to_caption.edges[0].node.text:"undefined"!==typeof b[k].node.accessibility_caption&&(h=b[k].node.accessibility_caption),
g&&(f+="<li>"),f+='<a href="https://www.instagram.com/p/'+b[k].node.shortcode+'" title="'+h+'">',f+='<img class="image" src="'+b[k].node.thumbnail_resources[4].src+'" alt="" title="'+h+'">',f+="</a>",g&&(f+="</li>"));a(c).append(f);a(c).find(".image:not(:first)").hide();a.slideshow.init(c,e)}):a.ajax({url:"https://api.instagram.com/v1/users/"+e.instagramId+"/media/recent/?access_token="+e.instagramToken+"&count="+e.maxItems,crossDomain:!0,dataType:"jsonp"}).done(function(b){a.each(b.data,function(a,
c){var d=null==b.data[a].caption||void 0==b.data[a].caption?Date(b.data[a].created_time):b.data[a].caption.text+" - "+Date(b.data[a].created_time);g&&(f+="<li>");f+='<a href="'+b.data[a].link+'" title="'+d+'">';f+='<img class="image" src="'+b.data[a].images.standard_resolution.url.replace(/\\/,"")+'" alt="" title="'+d+'">';f+="</a>";g&&(f+="</li>")});a(c).append(f);a(c).find(".image:not(:first)").hide();a.slideshow.init(c,e)})}else a.slideshow.init(c,e)};a.slideshow.init=function(c,b){var d=a(".caption_text").length;
b.images=a(c).find(".image");a.each(b.images,function(c){a(b.images[c]).css("zIndex",0).css("position","absolute").css("top","0").css("left","0");d&&(a(b.images[c]).data("title",a(b.images[c]).attr("title")),a(b.images[c]).removeAttr("title"))});b.random=!1;b.reverse=!1;"random"==b.effect&&(b.random=!0);"flip-x"!=b.effect&&"flip-y"!=b.effect||b.images.css({"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-o-backface-visibility":"hidden","backface-visibility":"hidden"});
a(c).data("state",b);a.isEmptyObject(b.captionShow)||a(c).mouseover(function(){b.captionShow.hasOwnProperty("visibility")?a(c).find(".caption_background").show():a(c).find(".caption_background").stop().animate(b.captionShow,500)});a.isEmptyObject(b.captionHide)||(a(c).find(".caption_background").stop().css(b.captionHide),a(c).mouseout(function(){b.captionHide.hasOwnProperty("visibility")?a(c).find(".caption_background").hide():a(c).find(".caption_background").stop().animate(b.captionHide,500)}));
var e=b.interval;"kenburns"==b.effect&&(e=1);0!=e?(e=setTimeout(function(){a.slideshow.imagetransition(c)},e),a(c).data("timerId",e)):"random"==b.type&&(a.slideshow.next(b),a.slideshow.gotoImage(c,b.current));0!=b.fullscreen&&(a(window).resize(function(){a.slideshow.resize(c)}),a(window).on("load",function(){a.slideshow.resize(c)}),a.slideshow.resize(c));if(b.pagination){$pagination=a('<div class="pagination" />');e=a(c).find(".image").get();for(var g=0;g<e.length;g++){var f=a("<a />").attr("id",
String(g+1)).css("cursor","pointer");a("<img />").attr({id:"page_"+String(g+1),src:b.pagination_img_default}).appendTo(f);f.click(function(){a.slideshow.gotoImage(c,a(this).attr("id"))});f.appendTo($pagination)}$pagination.appendTo(a(c));a.slideshow.updateNavigation(c,0,b.last)}setTimeout(function(){a(c).trigger("activate",0)},10)};a.slideshow.killTimer=function(c){c=a(c).data("timerId");clearInterval(c)};a.slideshow.updateNavigation=function(c,b,d){var e=a(c).data("state");a(c).parent().find(".pagination img:eq("+
b+")").attr("src",e.pagination_img_default);a(c).parent().find(".pagination img:eq("+d+")").attr("src",e.pagination_img_active)};a.slideshow.transformRotate=function(c,b,d){a(c).css({"-webkit-transform":"rotate"+b+"("+d+"deg)","-moz-transform":"rotate"+b+"("+d+"deg)","-ms-transform":"rotate"+b+"("+d+"deg)","-o-transform":"rotate"+b+"("+d+"deg)",transform:"rotate"+b+"("+d+"deg)"})};a.slideshow.gotoImage=function(c,b){a.slideshow.killTimer(c);var d=a(c).data("state");0!=d.interval&&(d.current--,0>d.current&&
(d.current=d.images.length-1));b-1!=d.current&&(0==d.interval&&(d.last=d.current),d.current=Math.min(b-1,d.images.length-1),d.interval=0,d.pagination&&a.slideshow.updateNavigation(c,d.last,d.current),a.slideshow.imagetransition(c),d.last=d.current)};a.slideshow.nextimage=function(c){state=a(c).data("state");0!=state.interval&&(state.current=state.last);state.interval=0;a.slideshow.next(state);a.slideshow.imagetransition(c)};a.slideshow.previmage=function(c){state=a(c).data("state");0!=state.interval&&
(state.current=state.last);state.interval=0;0<=state.current-1?(--state.current,state.last=state.current+1):(state.current=state.images.length-1,state.last=0);a.slideshow.imagetransition(c)};a.slideshow.next=function(a){if("sequence"==a.type)a.current+1<a.images.length?(a.current+=1,a.last=a.current-1):(a.current=0,a.last=a.images.length-1);else if("random"==a.type)for(a.last=a.current;a.current==a.last;)a.current=Math.floor(Math.random()*a.images.length)};a.slideshow.imagetransition=function(c){state=
a(c).data("state");if(state.random){var b="fade slide puff blind drop zoom clip shuffle blast blocks rain swirl squares bars".split(" "),d=["left","up","down","right"],e=["horizontal","vertical"];state.effect=b[Math.floor(Math.random()*b.length)];if("slide"==state.effect||"drop"==state.effect)state.direction=d[Math.floor(Math.random()*d.length)];if("clip"==state.effect||"blinds"==state.effect||"bars"==state.effect)state.direction=e[Math.floor(Math.random()*e.length)]}for(b=0;b<state.images.length;b++)a(state.images[b]).css("display",
"none");a(state.images[state.last]).css("display","block").css("zIndex","0");state.active=state.current;state.pagination&&a.slideshow.updateNavigation(c,state.last,state.current);if("none"==state.effect)a(state.images[state.current]).css("zIndex","1").show(),a(state.images[state.last]).css("display","none"),a(c).trigger("activate",state.current);else if("fade"==state.effect)a(state.images[state.last]).fadeOut(state.effectlength),a(state.images[state.current]).css("zIndex","1").css("display","block").hide().fadeIn(state.effectlength,
function(){a(c).trigger("activate",state.active)});else if("slide"==state.effect)a(state.images[state.current]).css("zIndex","1").show("slide",{direction:state.direction,easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("puff"==state.effect)a(state.images[state.current]).css("zIndex","1").show("puff",{easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("blind"==state.effect)a(state.images[state.current]).css("zIndex",
"1").show("blind",{direction:state.direction,easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("clip"==state.effect)a(state.images[state.current]).css("zIndex","1").show("clip",{direction:state.direction,easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("drop"==state.effect)a(state.images[state.current]).css("zIndex","1").show("drop",{direction:state.direction,easing:state.easing},state.effectlength,
function(){a(c).trigger("activate",state.active)});else if("fold"==state.effect)a(state.images[state.current]).css("zIndex","1").show("fold",{easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("kenburns"==state.effect){d=a(c).outerWidth();b=a(c).outerHeight();e=Math.ceil(d/10);var g=d,f=b,h=Math.floor(4*Math.random()),l=Math.floor(2*Math.random()),m=1;g<d+e?m=f<b+e?Math.max((b+e)/f,(d+e)/g):(d+e)/g:f<b+e&&(m=(b+e)/f);g*=m;f*=m;0==h||3==h?(leftStart=
-e,leftEnd=d-g+e):(leftStart=d-g+e,leftEnd=-e);1==h||3==h?(topStart=-e,topEnd=b-f+e):(topStart=b-f+e,topEnd=-e);1==l?(widthStart=1.2*g,widthEnd=g,heightStart=1.2*f,heightEnd=f):(widthStart=g,widthEnd=1.2*g,heightStart=f,heightEnd=1.2*f);a(state.images[state.current]).css("display","block").css("zIndex","1").css({opacity:0,position:0==state.fullscreen||4==state.fullscreen||5==state.fullscreen||6==state.fullscreen?"absolute":"fixed",left:Math.ceil(leftStart),top:Math.ceil(topStart),width:Math.ceil(widthStart),
height:Math.ceil(heightStart)}).animate({opacity:1},2E3).animate({left:Math.ceil(leftEnd),top:Math.ceil(topEnd),width:Math.ceil(widthEnd),height:Math.ceil(heightEnd)},{duration:state.effectlength+2E3,queue:!1}).css({width:d,height:b});a(c).trigger("activate",state.active)}else if("zoom"==state.effect)e=a(state.images[state.last]).outerWidth(),g=a(state.images[state.last]).outerHeight(),d=a(c).outerWidth(),b=a(c).outerHeight(),d=(d-e)/2,f=(b-g)/2,0!=state.fullscreen&&(f=0),b={top:f,left:d,width:e,
height:g},d={width:0,height:0,top:f+g/2,left:d+e/2},a(state.images[state.current]).animate(d,0,null),a(state.images[state.current]).css("display","block").css("zIndex","1"),a(state.images[state.current]).animate(b,state.effectlength,function(){a(c).trigger("activate",state.active)});else if("zoominout"==state.effect)e=a(state.images[state.last]).outerWidth(),g=a(state.images[state.last]).outerHeight(),d=a(c).outerWidth(),b=a(c).outerHeight(),d=(d-e)/2,f=(b-g)/2,0!=state.fullscreen&&(f=0),b={top:f,
left:d,width:e,height:g},d={width:0,height:0,top:f+g/2,left:d+e/2},a(state.images[state.last]).animate(d,state.effectlength,null),a(state.images[state.current]).animate(d,0,null),a(state.images[state.current]).css("display","block").css("zIndex","1"),a(state.images[state.current]).animate(b,state.effectlength,function(){a(c).trigger("activate",state.active)});else{if("shuffle"==state.effect){b=a(c).outerWidth();d=a(c).outerHeight();a(state.images[state.last]).css("zIndex","1");a(state.images[state.current]).css("zIndex",
"0");a(state.images[state.current]).show();a(state.images[state.current]).animate({translateX:b,translateY:-d,rotate:45},{duration:state.effectlength/2,easing:state.easing,queue:!0,complete:function(){a(state.images[state.last]).css("zIndex","0");a(state.images[state.current]).css("zIndex","1");a(state.images[state.current]).animate({rotate:"0deg",translateX:"0",translateY:"0"},{duration:state.effectlength/2,easing:state.easing,queue:!0,complete:function(){var b=a(state.images[state.current]).data("title");
a(c).find(".caption_text").text(b);a(c).trigger("activate",state.active);0!=state.interval&&(a.slideshow.next(state),b=setTimeout(function(){a.slideshow.imagetransition(c)},state.interval),a(c).data("timerId",b))}})}});return}if("rotate"==state.effect)a(state.images[state.last]).animate({rotate:180,scale:10,opacity:"hide"},{duration:state.effectlength,easing:state.easing}),a(state.images[state.current]).css("zIndex","1"),a(state.images[state.current]).css({scale:10,rotate:-180}),a(state.images[state.current]).animate({opacity:"show",
rotate:0,scale:1},{duration:state.effectlength,easing:state.easing,complete:function(){a(c).trigger("activate",state.active)}});else if("newspaper"==state.effect)a(state.images[state.last]).animate({opacity:"hide"},{duration:state.effectlength,easing:state.easing}),a(state.images[state.current]).css("zIndex","1"),a(state.images[state.current]).css({scale:0,rotate:720}),a(state.images[state.current]).animate({opacity:"show",rotate:0,scale:1},{duration:state.effectlength,easing:state.easing,complete:function(){a(c).trigger("activate",
state.active)}});else if("blast"==state.effect)a(state.images[state.last]).css("zIndex","1"),a(state.images[state.last]).css("zIndex","0"),a(state.images[state.last]).hide(state.effect,{easing:state.easing,pieces:16},state.effectlength),a(state.images[state.last]).css("visibility","visible"),a(state.images[state.current]).show(state.effect,{easing:state.easing,pieces:16},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("explode"==state.effect)a(state.images[state.last]).css("zIndex",
"1"),a(state.images[state.last]).css("zIndex","0"),a(state.images[state.last]).hide(state.effect,{easing:state.easing,pieces:25},state.effectlength),a(state.images[state.last]).css("visibility","visible"),a(state.images[state.current]).show("fade",{},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("blocks"==state.effect)a(state.images[state.current]).css("zIndex","1").show("squares",{easing:state.easing,fx:"random"},state.effectlength,function(){a(c).trigger("activate",
state.active)});else if("rain"==state.effect)a(state.images[state.current]).css("zIndex","1").show("squares",{easing:state.easing,fx:"rain",reverse:state.reverse},state.effectlength,function(){a(c).trigger("activate",state.active)}),state.reverse=!state.reverse;else if("swirl"==state.effect)a(state.images[state.current]).css("zIndex","1").show("squares",{easing:state.easing,fx:"swirl",reverse:state.reverse},state.effectlength,function(){a(c).trigger("activate",state.active)}),state.reverse=!state.reverse;
else if("squares"==state.effect)a(state.images[state.current]).css("zIndex","1").show("squares",{easing:state.easing,fx:"none",reverse:state.reverse},state.effectlength,function(){a(c).trigger("activate",state.active)}),state.reverse=!state.reverse;else if("blockscale"==state.effect)a(state.images[state.current]).css("zIndex","1").show("squares",{easing:state.easing,fx:"blockscale",reverse:state.reverse},state.effectlength,function(){a(c).trigger("activate",state.active)}),state.reverse=!state.reverse;
else if("bars"==state.effect)a(state.images[state.current]).css("zIndex","1").show("bars",{pieces:state.count,direction:state.direction,easing:state.easing},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("bounce"==state.effect)a(state.images[state.current]).css("zIndex","1").show("bounce",{direction:state.direction},state.effectlength,function(){a(c).trigger("activate",state.active)});else if("css-animation"==state.effect){var k=a(c).attr("id")+"_ShowAnimation",r=a(c).attr("id")+
"_HideAnimation";a(state.images[state.last]).addClass(r);a(state.images[state.last]).one("webkitAnimationEnd msAnimationEnd oAnimationEnd animationend",function(b){a(this).removeClass(r);a(this).css("visibility","hidden")});a(state.images[state.current]).css("display","block").addClass(k).css("visibility","visible").show();a(state.images[state.current]).one("webkitAnimationEnd msAnimationEnd oAnimationEnd animationend",function(b){a(this).removeClass(k)});a(c).trigger("activate",state.current)}else if("flip-x"==
state.effect||"flip-y"==state.effect){var p=state.last,n=state.current,q="flip-x"==state.effect?"X":"Y";a.slideshow.transformRotate(state.images[n],q,-90);a(state.images[n]).css({display:"block","background-position":"-90px"});a(state.images[p]).css("background-position","0px");a(state.images[p]).animate({backgroundPosition:90},{step:function(b){a.slideshow.transformRotate(state.images[p],q,b)},duration:state.effectlength/2,easing:state.easing,complete:function(){a(state.images[n]).animate({backgroundPosition:0},
{step:function(b){a.slideshow.transformRotate(state.images[n],q,b)},duration:state.effectlength/2,easing:state.easing})}})}else a(state.images[state.current]).css("zIndex","1").show(state.effect,{},state.effectlength,function(){a(c).trigger("activate",state.active)})}b=a(state.images[state.current]).data("title");a(c).find(".caption_text").text(b);0!=state.interval&&(a.slideshow.next(state),b=setTimeout(function(){a.slideshow.imagetransition(c)},state.interval),a(c).data("timerId",b))};a.slideshow.resize=
function(c){var b=a(c).data("state"),d=0,e=0;"undefined"!=typeof window.innerWidth?(d=window.innerWidth,e=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(d=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(d=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight);4==b.fullscreen?(d=a(c).parent().width(),
e=a(c).parent().height()):5==b.fullscreen?(d=a(c).parent().width(),e=a(c).height(),a(c).css("overflow","hidden")):6==b.fullscreen&&(d=a(c).width(),e=a(c).height());"kenburns"==b.effect&&5!=b.fullscreen&&4!=b.fullscreen&&(b.fullscreen=1);1==b.fullscreen&&a(c).css("height",e);a(c).css("width","100%");a(c).css("left","0");5!=b.fullscreen&&a(c).css("top","0");a(c).find(".image").each(function(){var g=e,f=d,h=0,l=0;4==b.fullscreen||6==b.fullscreen?(f>b.maxWidth&&(f=b.maxWidth),a(this).css({height:"auto",
width:f+"px"}),a(this).css({position:"absolute",left:h+"px",top:l+"px"}),a(c).css("height",a(this).height()),d>f&&(h=(d-a(this).width())/2,a(this).css({left:h+"px"}))):((5==b.fullscreen?!(f/g<a(this).width()/a(this).height()):f/g>a(this).width()/a(this).height())?1==b.fullscreen?a(this).css({height:g+"px",width:"auto"}):(2==b.fullscreen||5==b.fullscreen)&&a(this).css({height:"auto",width:f+"px"}):1==b.fullscreen?a(this).css({height:"auto",width:f+"px"}):(2==b.fullscreen||5==b.fullscreen)&&a(this).css({height:g+
"px",width:"auto"}),1==b.fullscreen?(h=(d-a(this).width())/2,l=(e-a(this).height())/2):3==b.fullscreen&&a(this).css({height:g+"px",width:f+"px"}),5!=b.fullscreen&&a(this).css({position:"fixed",left:h+"px",top:l+"px"}))})}})(jQuery);